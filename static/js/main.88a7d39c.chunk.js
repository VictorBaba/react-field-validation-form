(this["webpackJsonpreact-field-validation-form-example"]=this["webpackJsonpreact-field-validation-form-example"]||[]).push([[0],{102:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(66),i=t.n(l),c=t(39),u=t(25),o=t(108),m=t(11),d=t(31),s=t(7),f=t(62);var h=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{height:"2"}),r.a.createElement(m.a,{display:"flex",justifyContent:"space-around"},r.a.createElement(f.a,{variant:"link",as:d.b,to:"/react-field-validation-form"},"Basic"),r.a.createElement(f.a,{variant:"link",as:d.b,to:"/react-field-validation-form/nested"},"Nested"),r.a.createElement(f.a,{variant:"link",as:d.b,to:"/react-field-validation-form/array"},"Array"),r.a.createElement(f.a,{variant:"link",as:d.b,to:"/react-field-validation-form/async"},"Async")),r.a.createElement(m.a,{height:"2"}))},b=t(8),v=t(18),O=t(43),E=t.n(O),j=t(40),p=t(61),g=t(3),y=t(73),F=t.n(y),k=t(57);var S=function(e){var a=e.initialValues,t=e.callBack,r=e.validationSchema,l=Object(n.useState)(a),i=Object(b.a)(l,2),c=i[0],u=i[1],o=Object(n.useState)({}),m=Object(b.a)(o,2),d=m[0],s=m[1],f=Object(n.useState)(!1),h=Object(b.a)(f,2),v=h[0],O=h[1],y=Object(n.useState)(!1),S=Object(b.a)(y,2),x=S[0],A=S[1];function C(e){return Object.entries(e).map((function(e){var a=Object(b.a)(e,2),t=a[0],n=a[1],r="object"===typeof n&&!Array.isArray(n),l=Array.isArray(n);return n&&r?Object.keys(n):l?n.map((function(e){return e.id})):t})).flat()}function w(e,a){return"number"===e?parseInt(a):a}Object(n.useEffect)((function(){F()(c,a)||v||u(a)}),[a,c,v]),Object(n.useEffect)((function(){var e=Object.values(d).map((function(e){return"object"===typeof e&&null!==e?Object.values(e):e})).flat().filter((function(e){return null!==e})).length>0||0===Object.keys(d).length,n=C(c),r=C(d),l=n.every((function(e){return-1!==r.indexOf(e)}));e&&A(!1),x&&v&&!e&&l&&(t(c),u(a),O(!1),A(!1),s({}))}),[t,d,a,c,v,x,r]);var V={},q=Object.entries(r).reduce((function(e,a){var t=Object(b.a)(a,2),n=t[0],r=t[1];return Object.keys(r).includes("_deps")?Object(g.a)({[n]:{[n]:r}},e):(V=Object.entries(r).reduce((function(e,a){var t=Object(b.a)(a,2),n=t[0],r=t[1];return Object(g.a)({[n]:{[n]:r}},e)}),{}),e)}),{}),B=Object(g.a)(Object(g.a)({},q),V);function R(e){return N.apply(this,arguments)}function N(){return(N=Object(p.a)(E.a.mark((function e(a){var t,n,r,l,i,c,u,o,m;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.target,n=t.value,r=t.name,!r.includes(".")){e.next=18;break}return l=r.split("."),i=Object(b.a)(l,2),c=i[0],u=i[1],O(!0),A(!1),o=Object(k.a)().shape(B[u]),e.prev=7,e.next=10,o.validate({[u]:n});case 10:s((function(e){return Object(g.a)(Object(g.a)({},e),{},{[c]:Object(g.a)(Object(g.a)({},e[c]),{},{[u]:null})})})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),s((function(a){return Object(g.a)(Object(g.a)({},a),{},{[c]:Object(g.a)(Object(g.a)({},a[c]),{},{[u]:e.t0.message})})}));case 16:e.next=30;break;case 18:return O(!0),A(!1),m=Object(k.a)().shape(B[r]),e.prev=21,e.next=24,m.validate({[r]:n});case 24:s((function(e){return Object(g.a)(Object(g.a)({},e),{},{[r]:null})})),e.next=30;break;case 27:e.prev=27,e.t1=e.catch(21),s((function(a){return Object(g.a)(Object(g.a)({},a),{},{[r]:e.t1.message})}));case 30:case"end":return e.stop()}}),e,null,[[7,13],[21,27]])})))).apply(this,arguments)}function P(e){return D.apply(this,arguments)}function D(){return(D=Object(p.a)(E.a.mark((function e(a){var t,n,r,l,i,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.e,n=a.id,r=t.target,l=r.name,i=r.value,c=Object(k.a)().shape(B[l]),e.prev=3,e.next=6,c.validate({[l]:i});case 6:s((function(e){return Object(g.a)(Object(g.a)({},e),e[l]?{[l]:Object(g.a)(Object(g.a)({},e[l]),{},{[n]:null})}:{[l]:{[n]:null}})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),s((function(a){return Object(g.a)(Object(g.a)({},a),a[l]?{[l]:Object(g.a)(Object(g.a)({},a[l]),{},{[n]:e.t0.message})}:{[l]:{[n]:e.t0.message}})}));case 12:O(!0);case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}return{formData:c,handleChange:function(e){var a=e.target,t=a.name,n=a.value,r=a.type;if(t.includes(".")){var l=t.split("."),i=Object(b.a)(l,2),o=i[0],m=i[1];u((function(e){return Object(g.a)(Object(g.a)({},e),{},{[o]:Object(g.a)(Object(g.a)({},c[o]),{},{[m]:w(r,n)})})})),O(!0),A(!1)}else u((function(e){return Object(g.a)(Object(g.a)({},e),{},{[t]:w(r,n)})})),O(!0),A(!1)},handleSubmit:function(e){e.preventDefault(),function(e){var a=C(d);Object.entries(e).forEach((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1],l="object"===typeof c[n]&&!Array.isArray(c[n]),i=Array.isArray(c[n]);i&&c[n].length&&c[n].map((function(e){var t=e.id,r=e.name;a.includes(t)||P({e:{target:{name:n,value:r}},id:t})})),l&&Object.keys(r).forEach((function(e){a.includes(e)||R({target:{name:"".concat(n,".").concat(e),value:c[n][e]}})})),i||l||a.includes(n)||R({target:{name:n,value:c[n]}})}))}(r),A(!0)},handleValidateField:R,handleArrayOnChange:function(e){var a=e.e,t=e.id,n=a.target,r=n.name,l=n.value,i=c[r].map((function(e){return e.id===t?Object(g.a)(Object(g.a)({},e),{},{name:l}):e}));u((function(e){return Object(g.a)(Object(g.a)({},e),{},{[r]:i})})),O(!0),A(!1)},handleArrayPushField:function(e){var a=e.key,t=e.data;u((function(e){return Object(g.a)(Object(g.a)({},e),{},{[a]:[].concat(Object(j.a)(c[a]),[t])})})),O(!0),A(!1)},handleArrayRemoveField:function(e){var a=e.key,t=e.id,n=c[a].filter((function(e){return e.id!==t}));u((function(e){return Object(g.a)(Object(g.a)({},e),{},{[a]:n})})),O(!0),A(!1)},handleValidateArrayField:P,errors:d}},x=t(104),A=t(107);var C=function(){var e=Object(n.useState)(null),a=Object(b.a)(e,2),t=a[0],l=a[1],i=S({initialValues:{email:"",password:""},validationSchema:{email:Object(v.a)().required("Field Required!").email("Format invalid!"),password:Object(v.a)().required("Field Required!").min(3,"Minimum of 3 characters")},callBack:function(e){l(e)}}),c=i.formData,u=i.errors,o=i.handleChange,d=i.handleSubmit,s=i.handleValidateField;return r.a.createElement(m.a,null,r.a.createElement(m.a,{height:"8"}),r.a.createElement("form",{method:"POST",onSubmit:d},r.a.createElement(x.a,{htmlFor:"email"},"Email"),r.a.createElement(A.a,{type:"text",name:"email",id:"email",value:c.email,onChange:o,onBlur:s}),r.a.createElement("div",null,null===u||void 0===u?void 0:u.email),r.a.createElement(m.a,{height:"8"}),r.a.createElement(x.a,{htmlFor:"password"},"Password"),r.a.createElement(A.a,{type:"password",name:"password",id:"password",value:c.password,onChange:o,onBlur:s}),r.a.createElement("div",null,null===u||void 0===u?void 0:u.password),r.a.createElement(m.a,{height:"8"}),r.a.createElement(f.a,{variant:"solid",type:"submit"},"submit"," ")),r.a.createElement(m.a,{height:"8"}),r.a.createElement(m.a,null,"Output Values: ",t&&JSON.stringify(t,null,2)))};var w=function(){var e,a,t=Object(n.useState)(null),l=Object(b.a)(t,2),i=l[0],c=l[1],u=S({initialValues:{user:{name:"",email:""}},validationSchema:{user:{name:Object(v.a)().required("Field Required!").min(3,"Minimum of 3 characters"),email:Object(v.a)().required("Field Required!").email("Format invalid!")}},callBack:function(e){c(e)}}),o=u.formData,d=u.errors,s=u.handleChange,h=u.handleSubmit,O=u.handleValidateField;return r.a.createElement(m.a,null,r.a.createElement(m.a,{height:"8"}),r.a.createElement("form",{method:"POST",onSubmit:h},r.a.createElement(x.a,{htmlFor:"name"},"Name"),r.a.createElement(A.a,{type:"name",name:"user.name",id:"name",value:o.user.name,onChange:s,onBlur:O}),r.a.createElement("div",null,null===d||void 0===d||null===(e=d.user)||void 0===e?void 0:e.name),r.a.createElement(m.a,{height:"8"}),r.a.createElement(x.a,{htmlFor:"email"},"Email"),r.a.createElement(A.a,{type:"text",name:"user.email",id:"email",value:o.user.email,onChange:s,onBlur:O}),r.a.createElement("div",null,null===d||void 0===d||null===(a=d.user)||void 0===a?void 0:a.email),r.a.createElement(m.a,{height:"8"}),r.a.createElement(f.a,{variant:"solid",type:"submit"},"submit"," ")),r.a.createElement(m.a,{height:"8"}),r.a.createElement(m.a,null,"Output Values: ",i&&JSON.stringify(i,null,2)))},V=t(105),q=t(106),B=t(56);var R=function(){var e=Object(n.useState)(null),a=Object(b.a)(e,2),t=a[0],l=a[1],i=S({initialValues:{name:"",food:[{id:"1",name:""}]},validationSchema:{name:Object(v.a)().required("Field Required!").min(3,"Minimum of 3 characters"),food:Object(v.a)().required("Field Required!").min(2,"Minimum of 2 characters")},callBack:function(e){var a=e.food.reduce((function(e,a){a.id;var t=a.name;return[].concat(Object(j.a)(e),[t])}),[]);l(Object(g.a)(Object(g.a)({},e),{},{food:a}))}}),c=i.formData,u=i.errors,o=i.handleChange,d=i.handleSubmit,s=i.handleValidateField,h=i.handleArrayOnChange,O=i.handleValidateArrayField,E=i.handleArrayRemoveField,p=i.handleArrayPushField;return r.a.createElement(m.a,null,r.a.createElement(m.a,{height:"8"}),r.a.createElement("form",{method:"POST",onSubmit:d},r.a.createElement(x.a,{htmlFor:"name"},"Name"),r.a.createElement(A.a,{type:"name",name:"name",id:"name",value:c.name,onChange:o,onBlur:s}),r.a.createElement("div",null,null===u||void 0===u?void 0:u.name),r.a.createElement(m.a,{height:"8"}),c.food.map((function(e,a){var t;return r.a.createElement(m.a,{key:a},r.a.createElement(V.a,{direction:"column"},r.a.createElement(x.a,{htmlFor:"food"},"Preferred food No: ",a+1),r.a.createElement(V.a,null,r.a.createElement(A.a,{type:"text",name:"food",id:e.id,value:e.name,onChange:function(t){return h({e:t,id:e.id,index:a})},onBlur:function(a){return O({e:a,id:e.id})}}),c.food.length>1&&r.a.createElement(q.a,{"aria-label":"Remove Food",icon:"close",onClick:function(){return E({key:"food",id:e.id})},marginLeft:"2"})),r.a.createElement(m.a,null,null===u||void 0===u||null===(t=u.food)||void 0===t?void 0:t[e.id])),r.a.createElement(m.a,{height:"8"}))})),r.a.createElement(f.a,{onClick:function(){return p({key:"food",data:{id:Object(B.generate)(),name:""}})}},"Add new type of Food"),r.a.createElement(m.a,{height:"8"}),r.a.createElement(f.a,{variant:"solid",type:"submit"},"submit"," ")),r.a.createElement(m.a,{height:"8"}),r.a.createElement(m.a,null,"Output Values: ",t&&JSON.stringify(t,null,2)))};var N=function(){var e,a=Object(n.useState)(null),t=Object(b.a)(a,2),l=t[0],i=t[1],c=Object(n.useState)(!1),u=Object(b.a)(c,2),o=u[0],d=u[1],s=Object(n.useState)(null),h=Object(b.a)(s,2),O=h[0],E=h[1],p=S({initialValues:{name:null!==(e=null===l||void 0===l?void 0:l.name)&&void 0!==e?e:"",food:(null===l||void 0===l?void 0:l.food.length)?l.food.map((function(e,a){return{id:"".concat(a+1),name:e}})):[{id:"1",name:""}]},validationSchema:{name:Object(v.a)().required("Field Required!").min(3,"Minimum of 3 characters"),food:Object(v.a)().required("Field Required!").min(2,"Minimum of 2 characters")},callBack:function(e){var a=e.food.reduce((function(e,a){a.id;var t=a.name;return[].concat(Object(j.a)(e),[t])}),[]);E(Object(g.a)(Object(g.a)({},e),{},{food:a}))}}),y=p.formData,F=p.errors,k=p.handleChange,C=p.handleSubmit,w=p.handleValidateField,R=p.handleArrayOnChange,N=p.handleValidateArrayField,P=p.handleArrayRemoveField,D=p.handleArrayPushField;return Object(n.useEffect)((function(){l||(d(!0),setTimeout((function(){i({name:"Example Name",food:["fries","fish","eggs","tofu"]}),d(!1)}),3e3))}),[l]),r.a.createElement(m.a,null,o?r.a.createElement(m.a,null,r.a.createElement(m.a,{height:"8"}),r.a.createElement(m.a,{height:"8"}),r.a.createElement(m.a,null,"Data is Loading ...... ")):r.a.createElement(m.a,null,r.a.createElement(m.a,{height:"8"}),r.a.createElement("form",{method:"POST",onSubmit:C},r.a.createElement(x.a,{htmlFor:"name"},"Name"),r.a.createElement(A.a,{type:"name",name:"name",id:"name",value:y.name,onChange:k,onBlur:w}),r.a.createElement("div",null,null===F||void 0===F?void 0:F.name),r.a.createElement(m.a,{height:"8"}),y.food.map((function(e,a){var t;return r.a.createElement(m.a,{key:a},r.a.createElement(V.a,{direction:"column"},r.a.createElement(x.a,{htmlFor:"food"},"Preferred food No: ",a+1),r.a.createElement(V.a,null,r.a.createElement(A.a,{type:"text",name:"food",id:e.id,value:e.name,onChange:function(t){return R({e:t,id:e.id,index:a})},onBlur:function(a){return N({e:a,id:e.id})}}),y.food.length>1&&r.a.createElement(q.a,{"aria-label":"Remove Food",icon:"close",onClick:function(){return P({key:"food",id:e.id})},marginLeft:"2"})),r.a.createElement(m.a,null,null===F||void 0===F||null===(t=F.food)||void 0===t?void 0:t[e.id])),r.a.createElement(m.a,{height:"8"}))})),r.a.createElement(f.a,{onClick:function(){return D({key:"food",data:{id:Object(B.generate)(),name:""}})}},"Add new type of Food"),r.a.createElement(m.a,{height:"8"}),r.a.createElement(f.a,{variant:"solid",type:"submit"},"submit"," ")),r.a.createElement(m.a,{height:"8"}),r.a.createElement(m.a,null,"Output Values to be sent back to server:"," ",O&&JSON.stringify(O,null,2))))};var P=function(){return r.a.createElement(m.a,{maxWidth:"xl",margin:"auto"},r.a.createElement(d.a,null,r.a.createElement(h,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/react-field-validation-form"},r.a.createElement(C,null)),r.a.createElement(s.a,{path:"/react-field-validation-form/nested"},r.a.createElement(w,null)),r.a.createElement(s.a,{path:"/react-field-validation-form/array"},r.a.createElement(R,null)),r.a.createElement(s.a,{path:"/react-field-validation-form/async"},r.a.createElement(N,null)))))};i.a.render(r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement(o.a,null),r.a.createElement(P,null))),document.getElementById("root"))},77:function(e,a,t){e.exports=t(102)}},[[77,1,2]]]);
//# sourceMappingURL=main.88a7d39c.chunk.js.map