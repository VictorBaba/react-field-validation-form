(this["webpackJsonpreact-field-validation-form-example"]=this["webpackJsonpreact-field-validation-form-example"]||[]).push([[0],{75:function(e,a,t){e.exports=t(99)},99:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(62),i=t.n(l),u=t(35),o=t(23),c=t(105),m=t(9),d=t(37),f=t(6),s=t(57);var v=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{height:"2"}),r.a.createElement(m.a,{display:"flex",justifyContent:"space-around"},r.a.createElement(s.a,{variant:"link",as:d.b,to:"/react-field-validation-form"},"Basic"),r.a.createElement(s.a,{variant:"link",as:d.b,to:"/react-field-validation-form/nested"},"Nested"),r.a.createElement(s.a,{variant:"link",as:d.b,to:"/react-field-validation-form/array"},"Array")),r.a.createElement(m.a,{height:"2"}))},h=t(36),E=t(20),b=t(69),y=t.n(b),p=t(53);function g(){return(g=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function O(e,a){try{var t=e()}catch(n){return a(n)}return t&&t.then?t.then(void 0,a):t}var j=function(e){var a=function(e){var a=e.e,t=e.id;try{var n=function(){h(!0)},r=a.target,l=r.name,i=r.value,u=Object(p.a)().shape(C[l]),o=O((function(){var e;return Promise.resolve(u.validate((e={},e[l]=i,e))).then((function(){f((function(e){var a,n,r,i;return g(g({},e),e[l]?((n={})[l]=g(g({},e[l]),{},((a={})[t]=null,a)),n):((i={})[l]=((r={})[t]=null,r),i))}))}))}),(function(e){f((function(a){var n,r,i,u;return g(g({},a),a[l]?((r={})[l]=g(g({},a[l]),{},((n={})[t]=e.message,n)),r):((u={})[l]=((i={})[t]=e.message,i),u))}))}));return Promise.resolve(o&&o.then?o.then(n):n())}catch(a){return Promise.reject(a)}},t=function(e){try{var a=e.target,t=a.value,n=a.name,r=n.includes("."),l=function(){if(r){var e=n.split("."),a=e[0],l=e[1];h(!0),j(!1);var i=Object(p.a)().shape(C[l]),u=O((function(){var e;return Promise.resolve(i.validate((e={},e[l]=t,e))).then((function(){f((function(e){var t,n;return g(g({},e),{},((n={})[a]=g(g({},e[a]),{},((t={})[l]=null,t)),n))}))}))}),(function(e){f((function(t){var n,r;return g(g({},t),{},((r={})[a]=g(g({},t[a]),{},((n={})[l]=e.message,n)),r))}))}));if(u&&u.then)return u.then((function(){}))}else{h(!0),j(!1);var o=Object(p.a)().shape(C[n]),c=O((function(){var e;return Promise.resolve(o.validate((e={},e[n]=t,e))).then((function(){f((function(e){var a;return g(g({},e),{},((a={})[n]=null,a))}))}))}),(function(e){f((function(a){var t;return g(g({},a),{},((t={})[n]=e.message,t))}))}));if(c&&c.then)return c.then((function(){}))}}();return Promise.resolve(l&&l.then?l.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},r=e.initialValues,l=e.callBack,i=e.validationSchema,u=Object(n.useState)(r),o=u[0],c=u[1],m=Object(n.useState)({}),d=m[0],f=m[1],s=Object(n.useState)(!1),v=s[0],h=s[1],E=Object(n.useState)(!1),b=E[0],j=E[1];function S(e){return Object.entries(e).map((function(e){var a=e[0],t=e[1],n="object"===typeof t&&!Array.isArray(t),r=Array.isArray(t);return t&&n?(console.log({este:t}),Object.keys(t)):r?t.map((function(e){return e.id})):a})).flat()}function F(e,a){return"number"===e?parseInt(a):a}Object(n.useEffect)((function(){y()(o,r)||v||c(r)}),[r,o,v]),Object(n.useEffect)((function(){var e=Object.values(d).map((function(e){return"object"===typeof e&&null!==e?Object.values(e):e})).flat().filter((function(e){return null!==e})).length>0||0===Object.keys(d).length,a=S(o),t=S(d),n=a.every((function(e){return-1!==t.indexOf(e)}));e&&j(!1),b&&v&&!e&&n&&(l(o),c(r),h(!1),j(!1),f({}))}),[l,d,r,o,v,b,i]);var k={},A=Object.entries(i).reduce((function(e,a){var t,n,r=a[0],l=a[1];return Object.keys(l).includes("_deps")?g(((n={})[r]=((t={})[r]=l,t),n),e):(k=Object.entries(l).reduce((function(e,a){var t,n,r=a[0],l=a[1];return g(((n={})[r]=((t={})[r]=l,t),n),e)}),{}),e)}),{}),C=g(g({},A),k);return{formData:o,handleChange:function(e){var a=e.target,t=a.name,n=a.value,r=a.type;if(t.includes(".")){var l=t.split("."),i=l[0],u=l[1];c((function(e){var a,t;return g(g({},e),{},((t={})[i]=g(g({},o[i]),{},((a={})[u]=F(r,n),a)),t))})),h(!0),j(!1)}else c((function(e){var a;return g(g({},e),{},((a={})[t]=F(r,n),a))})),h(!0),j(!1)},handleSubmit:function(e){e.preventDefault(),function(e){var n=S(d);Object.entries(e).forEach((function(e){var r=e[0],l=e[1],i="object"===typeof o[r]&&!Array.isArray(o[r]),u=Array.isArray(o[r]);u&&o[r].length&&o[r].map((function(e){var t=e.id,l=e.name;n.includes(t)||a({e:{target:{name:r,value:l}},id:t})})),i&&Object.keys(l).forEach((function(e){n.includes(e)||t({target:{name:r+"."+e,value:o[r][e]}})})),u||i||n.includes(r)||t({target:{name:r,value:o[r]}})}))}(i),j(!0)},handleValidateField:t,handleArrayOnChange:function(e){var a=e.e,t=e.id,n=a.target,r=n.name,l=n.value,i=o[r].map((function(e){return e.id===t?g(g({},e),{},{name:l}):e}));c((function(e){var a;return g(g({},e),{},((a={})[r]=i,a))})),h(!0),j(!1)},handleArrayPushField:function(e){var a=e.key,t=e.data;c((function(e){var n;return g(g({},e),{},((n={})[a]=[].concat(o[a],[t]),n))})),h(!0),j(!1)},handleArrayRemoveField:function(e){var a=e.key,t=e.id,n=o[a].filter((function(e){return e.id!==t}));c((function(e){var t;return g(g({},e),{},((t={})[a]=n,t))})),h(!0),j(!1)},handleValidateArrayField:a,errors:d}},S=t(101),F=t(104);var k=function(){var e=Object(n.useState)(null),a=Object(h.a)(e,2),t=a[0],l=a[1],i=j({initialValues:{email:"",password:""},validationSchema:{email:Object(E.a)().required("Field Required!").email("Format invalid!"),password:Object(E.a)().required("Field Required!").min(3,"Minimum of 3 characters")},callBack:function(e){l(e)}}),u=i.formData,o=i.errors,c=i.handleChange,d=i.handleSubmit,f=i.handleValidateField;return r.a.createElement(m.a,null,r.a.createElement(m.a,{height:"8"}),r.a.createElement("form",{method:"POST",onSubmit:d},r.a.createElement(S.a,{htmlFor:"email"},"Email"),r.a.createElement(F.a,{type:"text",name:"email",id:"email",value:u.email,onChange:c,onBlur:f}),r.a.createElement("div",null,null===o||void 0===o?void 0:o.email),r.a.createElement(m.a,{height:"8"}),r.a.createElement(S.a,{htmlFor:"password"},"Password"),r.a.createElement(F.a,{type:"password",name:"password",id:"password",value:u.password,onChange:c,onBlur:f}),r.a.createElement("div",null,null===o||void 0===o?void 0:o.password),r.a.createElement(m.a,{height:"8"}),r.a.createElement(s.a,{variant:"solid",type:"submit"},"submit"," ")),r.a.createElement(m.a,{height:"8"}),r.a.createElement(m.a,null,"Output Values: ",t&&JSON.stringify(t,null,2)))};var A=function(){var e,a,t=Object(n.useState)(null),l=Object(h.a)(t,2),i=l[0],u=l[1],o=j({initialValues:{user:{name:"",email:""}},validationSchema:{user:{name:Object(E.a)().required("Field Required!").min(3,"Minimum of 3 characters"),email:Object(E.a)().required("Field Required!").email("Format invalid!")}},callBack:function(e){u(e)}}),c=o.formData,d=o.errors,f=o.handleChange,v=o.handleSubmit,b=o.handleValidateField;return r.a.createElement(m.a,null,r.a.createElement(m.a,{height:"8"}),r.a.createElement("form",{method:"POST",onSubmit:v},r.a.createElement(S.a,{htmlFor:"name"},"Name"),r.a.createElement(F.a,{type:"name",name:"user.name",id:"name",value:c.user.name,onChange:f,onBlur:b}),r.a.createElement("div",null,null===d||void 0===d||null===(e=d.user)||void 0===e?void 0:e.name),r.a.createElement(m.a,{height:"8"}),r.a.createElement(S.a,{htmlFor:"email"},"Email"),r.a.createElement(F.a,{type:"text",name:"user.email",id:"email",value:c.user.email,onChange:f,onBlur:b}),r.a.createElement("div",null,null===d||void 0===d||null===(a=d.user)||void 0===a?void 0:a.email),r.a.createElement(m.a,{height:"8"}),r.a.createElement(s.a,{variant:"solid",type:"submit"},"submit"," ")),r.a.createElement(m.a,{height:"8"}),r.a.createElement(m.a,null,"Output Values: ",i&&JSON.stringify(i,null,2)))},C=t(58),P=t(74),w=t(102),V=t(103),q=t(73);var x=function(){var e=Object(n.useState)(null),a=Object(h.a)(e,2),t=a[0],l=a[1],i=j({initialValues:{name:"",food:[{id:"1",name:""}]},validationSchema:{name:Object(E.a)().required("Field Required!").min(3,"Minimum of 3 characters"),food:Object(E.a)().required("Field Required!").min(2,"Minimum of 2 characters")},callBack:function(e){var a=e.food.reduce((function(e,a){a.id;var t=a.name;return[].concat(Object(P.a)(e),[t])}),[]);l(Object(C.a)(Object(C.a)({},e),{},{food:a}))}}),u=i.formData,o=i.errors,c=i.handleChange,d=i.handleSubmit,f=i.handleValidateField,v=i.handleArrayOnChange,b=i.handleValidateArrayField,y=i.handleArrayRemoveField,p=i.handleArrayPushField;return r.a.createElement(m.a,null,r.a.createElement(m.a,{height:"8"}),r.a.createElement("form",{method:"POST",onSubmit:d},r.a.createElement(S.a,{htmlFor:"name"},"Name"),r.a.createElement(F.a,{type:"name",name:"name",id:"name",value:u.name,onChange:c,onBlur:f}),r.a.createElement("div",null,null===o||void 0===o?void 0:o.name),r.a.createElement(m.a,{height:"8"}),u.food.map((function(e,a){var t;return r.a.createElement(m.a,{key:a},r.a.createElement(w.a,{direction:"column"},r.a.createElement(S.a,{htmlFor:"food"},"Preferred food No: ",a+1),r.a.createElement(w.a,null,r.a.createElement(F.a,{type:"text",name:"food",id:e.id,value:e.name,onChange:function(t){return v({e:t,id:e.id,index:a})},onBlur:function(a){return b({e:a,id:e.id})}}),u.food.length>1&&r.a.createElement(V.a,{"aria-label":"Remove Food",icon:"close",onClick:function(){return y({key:"food",id:e.id})},marginLeft:"2"})),r.a.createElement(m.a,null,null===o||void 0===o||null===(t=o.food)||void 0===t?void 0:t[e.id])),r.a.createElement(m.a,{height:"8"}))})),r.a.createElement(s.a,{onClick:function(){return p({key:"food",data:{id:Object(q.generate)(),name:""}})}},"Add new type of Food"),r.a.createElement(m.a,{height:"8"}),r.a.createElement(s.a,{variant:"solid",type:"submit"},"submit"," ")),r.a.createElement(m.a,{height:"8"}),r.a.createElement(m.a,null,"Output Values: ",t&&JSON.stringify(t,null,2)))};var B=function(){return r.a.createElement(m.a,{maxWidth:"xl",margin:"auto"},r.a.createElement(d.a,null,r.a.createElement(v,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/react-field-validation-form"},r.a.createElement(k,null)),r.a.createElement(f.a,{path:"/react-field-validation-form/nested"},r.a.createElement(A,null)),r.a.createElement(f.a,{path:"/react-field-validation-form/array"},r.a.createElement(x,null)))))};i.a.render(r.a.createElement(u.a,null,r.a.createElement(o.a,null,r.a.createElement(c.a,null),r.a.createElement(B,null))),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.c0aa80c2.chunk.js.map